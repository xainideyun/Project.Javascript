<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>函数分段</title>
  <link rel="stylesheet" href="css/bootstrap.css">
  <script src="js/jquery.js"></script>
  <script src="js/bootstrap.js"></script>
  <script>
    var timeChunk = function(arr, fn, count) {
      var timer, start = function() {
        for (var i = 0; i < Math.min(count || 1, arr.length); i++) {
          fn.call(arr.shift());
        }
      };
      return function() {
        timer = setInterval(function() {
          if (arr.length === 0) {
            return clearInterval(timer);
          }
          start();
        }, 200);
      };
    };
    window.onload = function() {
      var arr = [],
        ul = document.getElementsByTagName("ul")[0];
      for (var i = 0; i < 1000; i++) {
        arr[arr.length] = i;
      }
      var render = timeChunk(arr, function() {
        var li = document.createElement("li");
        li.className = "list-group-item";
        li.innerHTML = this + '<span class="badge"><i class="glyphicon glyphicon-plus"></i></span>';
        ul.appendChild(li);
      }, 8);
      render();
    };
  </script>
</head>

<body style="padding: 2em 2em;">
  <div class="container">
    <div class="row">
      <div class="col-md-12">
        <div class="panel panel-primary">
          <div class="panel-heading">
            <h3 class="panel-title">函数分段</h3>
          </div>
          <div class="panel-body">
            <ul class="list-group">
              <li class="list-group-item">孙小双 <span class="badge"><i class="glyphicon glyphicon-plus"></i></span></li>
            </ul>
          </div>
          <div class="panel-footer">

          </div>
        </div>
      </div>
    </div>
  </div>
</body>

</html>
